\def\firstname{firstname}
\def\lastname{lastname}
\def\aufgabenblatt{2}
\include{../common/header.tex}

\begin{document}

\thispagestyle{page1} 

\section{Histograms and Pixel Operations}

\subsection{Linear Pixel Operations (10 Points)}

Edit the Jupyter Notebook \texttt{Affine\_Transformation.ipynb}. The notebook loads several degrated versions of a grayscale image and displays it.
In this exercise, we use histograms to understand the type of degradation, then correct the images.

\begin{enumerate}
\item[a)] In OpenCV, histograms can be calculated using the function \texttt{cv2.calcHist}. The signature is not very self-explanatory, though. Please look up
the function signature on the internet. We use the call \texttt{cv2.calcHist(([image], [0], None, [256], [0,256]))}. Please describe each term.
\item[b)] Describe quantitatively, what is the problem with \texttt{kodim15\_gray\_low\_contrast.png}. 
\item[c)] Extend the notebook to correct the image. \\
\includegraphics[width=0.9\textwidth]{source\_code/kodim15\_gray\_low\_contrast\_corrected.png}

\item[d)] Describe quantitatively, what is the problem with \texttt{kodim15\_gray\_ueberbelichtet.png}. 
\item[e)] Extend the notebook to correct the image. \\
\includegraphics[width=0.9\textwidth]{source\_code/kodim15\_gray\_ueberbelichtet\_corrected.png}

\item[f)] Describe quantitatively, what is the problem with \texttt{kodim15\_gray\_unterbelichtet.png}. 
\item[g)] Extend the notebook to correct the image. \\
\includegraphics[width=0.9\textwidth]{source\_code/kodim15\_gray\_unterbelichtet\_corrected.png}
\end{enumerate}

I needed the following time to complete the task:

\subsection{Non-Linear Pixel Operations (10 Points)}

Implement a non-linear correction of the image. We use the function $$ \Phi(x) = \frac{e^x}{1+e^x}$$. The function is defined on $[-3,..,3]$. 

\begin{enumerate}
\item[a)] Prepare the function for use as a pixel operation. Adapte the color values to match the definition range of the function, then apply the function on the image \texttt{kodim15\_unterbelichtet.png}.
\item[b)] The image is an rgb image, not grayscale. Describe in your own words, how the different channels need to be treated for brightness or contrast correction. What would happen,
if different functions are applied to each channel?
\end{enumerate}

\includegraphics[width=0.9\textwidth]{source\_code/kodim15\_exp\_corrected\_1.png}

\subsection{Non-Linear Pixel Operations with parametrized Function (10 Points)}

Finally, we want to use the exponential function $$ \Phi(x) = \frac{G-1}{e^{a \cdot (G-1)} - 1} \cdot (e^{ax} - 1)$$. Hereby, $G$ is the upper bound of our value range, i.e. $G-1$ is 255. The
parameter $a$ can be selected for the intended correction.

\begin{enumerate}
\item[a)] Prepare the function for use as a pixel operation. Adapte the color values to match the definition range of the function, then apply the function on the image \texttt{kodim15\_unterbelichtet.png}.
\item[b)] Determine a good value for $a$. Describe your procedure for determining a good value in your own worlds.
\end{enumerate}

\includegraphics[width=0.9\textwidth]{source\_code/kodim15\_exp\_corrected\_2.png}

I needed the following time to complete the task:

\subsection{Histogram Egalization (30 Points)}

We now want to implement histogram egalisation. 

\begin{enumerate}
\item[a)] Implement a method that corrects an image by histogram egalisation. .
\end{enumerate}

\includegraphics[width=0.9\textwidth]{source\_code/kodim15\_histogram\_corrected.png}

I needed the following time to complete the task:

\end{document}